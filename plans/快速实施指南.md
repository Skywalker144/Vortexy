# é£æ‰‡æ€§èƒ½æ¯”è¾ƒå·¥å…· - å¿«é€Ÿå®æ–½æŒ‡å—

## ä¸€ã€ç«‹å³å¯å®æ–½çš„ä¼˜åŒ–ï¼ˆ1-2å¤©å†…å®Œæˆï¼‰

### 1. ç§»åŠ¨ç«¯å›¾ä¾‹ä¼˜åŒ– â­â­â­â­â­
**é—®é¢˜**ï¼šç§»åŠ¨ç«¯å›¾ä¾‹æ˜¾ç¤ºç©ºé—´å—é™ï¼Œç”¨æˆ·ä½“éªŒå·®

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// åœ¨ main.js çš„ getResponsiveConfig() å‡½æ•°ä¸­ä¿®æ”¹
function getResponsiveConfig() {
    const mobile = isMobile();
    return {
        // ... å…¶ä»–é…ç½®
        legend: {
            orient: mobile ? 'horizontal' : 'vertical',
            [mobile ? 'bottom' : 'right']: mobile ? '0%' : '2%',
            [mobile ? 'left' : 'top']: mobile ? 'center' : 'center',
            width: mobile ? '90%' : '20%',
            type: 'scroll',
            pageIconSize: mobile ? 10 : 14,
            pageTextStyle: {
                fontSize: mobile ? 9 : 12
            },
            textStyle: {
                fontSize: mobile ? 10 : 14
            },
            // æ·»åŠ é€‰æ‹©å™¨
            selector: [
                {
                    type: 'all',
                    title: 'å…¨é€‰'
                },
                {
                    type: 'inverse',
                    title: 'åé€‰'
                }
            ]
        }
    };
}
```

**CSSè°ƒæ•´**ï¼š
```css
/* åœ¨ style.css ä¸­æ·»åŠ  */
@media screen and (max-width: 768px) {
    #chart {
        padding-bottom: 80px; /* ä¸ºåº•éƒ¨å›¾ä¾‹ç•™å‡ºç©ºé—´ */
    }
}
```

**é¢„æœŸæ•ˆæœ**ï¼šç§»åŠ¨ç«¯å›¾ä¾‹æ›´æ˜“ç”¨ï¼Œä¸é®æŒ¡å›¾è¡¨å†…å®¹

---

### 2. æ·»åŠ æœç´¢åŠŸèƒ½ â­â­â­â­â­
**é—®é¢˜**ï¼šé£æ‰‡åˆ—è¡¨é•¿æ—¶éš¾ä»¥å¿«é€Ÿæ‰¾åˆ°ç›®æ ‡

**è§£å†³æ–¹æ¡ˆ**ï¼š

**HTMLä¿®æ”¹**ï¼ˆåœ¨ index.html çš„ fan-selector ä¸­æ·»åŠ ï¼‰ï¼š
```html
<div id="fan-selector">
    <h2>é€‰æ‹©é£æ‰‡è¿›è¡Œæ¯”è¾ƒ:</h2>
    <!-- æ–°å¢æœç´¢æ¡† -->
    <div class="search-container">
        <input type="text" id="fan-search" placeholder="ğŸ” æœç´¢é£æ‰‡..." />
        <button id="clear-search" style="display: none;">âœ•</button>
    </div>
    <div id="select-all-container">
        <!-- ... ç°æœ‰å†…å®¹ -->
    </div>
    <div id="fan-list">
    </div>
</div>
```

**CSSæ·»åŠ **ï¼š
```css
.search-container {
    position: relative;
    margin-bottom: 10px;
}

#fan-search {
    width: 100%;
    padding: 8px 30px 8px 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 0.95em;
    transition: border-color 0.3s;
}

#fan-search:focus {
    outline: none;
    border-color: #4a90e2;
    box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.1);
}

#clear-search {
    position: absolute;
    right: 5px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: #999;
    cursor: pointer;
    padding: 5px;
    font-size: 16px;
}

#clear-search:hover {
    color: #333;
}

.fan-item-hidden {
    display: none !important;
}

.fan-item-highlight {
    background-color: #fff3cd;
}
```

**JavaScriptæ·»åŠ **ï¼ˆåœ¨ main.js ä¸­ï¼‰ï¼š
```javascript
// åœ¨ DOMContentLoaded äº‹ä»¶å¤„ç†å™¨ä¸­æ·»åŠ 
const fanSearchInput = document.getElementById('fan-search');
const clearSearchBtn = document.getElementById('clear-search');

// æœç´¢åŠŸèƒ½
fanSearchInput.addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase().trim();
    const fanLabels = fanListDom.querySelectorAll('label');
    
    // æ˜¾ç¤º/éšè—æ¸…é™¤æŒ‰é’®
    clearSearchBtn.style.display = searchTerm ? 'block' : 'none';
    
    fanLabels.forEach(label => {
        const fanName = label.textContent.toLowerCase();
        const matches = fanName.includes(searchTerm);
        
        if (matches) {
            label.classList.remove('fan-item-hidden');
            // é«˜äº®åŒ¹é…é¡¹
            if (searchTerm) {
                label.classList.add('fan-item-highlight');
            } else {
                label.classList.remove('fan-item-highlight');
            }
        } else {
            label.classList.add('fan-item-hidden');
            label.classList.remove('fan-item-highlight');
        }
    });
});

// æ¸…é™¤æœç´¢
clearSearchBtn.addEventListener('click', function() {
    fanSearchInput.value = '';
    fanSearchInput.dispatchEvent(new Event('input'));
    fanSearchInput.focus();
});
```

**é¢„æœŸæ•ˆæœ**ï¼šç”¨æˆ·å¯ä»¥å¿«é€Ÿæœç´¢å’Œå®šä½é£æ‰‡

---

### 3. å¢å¼ºTooltipæ˜¾ç¤º â­â­â­â­
**é—®é¢˜**ï¼šTooltipä¿¡æ¯ä¸å¤Ÿä¸°å¯Œï¼Œç¼ºå°‘æ’åç­‰å…³é”®ä¿¡æ¯

**è§£å†³æ–¹æ¡ˆ**ï¼ˆä¿®æ”¹ main.js ä¸­çš„ tooltip é…ç½®ï¼‰ï¼š
```javascript
tooltip: {
    trigger: 'axis',
    axisPointer: {
        type: 'cross',
        label: {
            backgroundColor: '#6a7985'
        }
    },
    confine: true, // é™åˆ¶åœ¨å›¾è¡¨åŒºåŸŸå†…
    formatter: function (params) {
        if (!params || params.length === 0) return '';
        
        const noise = params[0].value[0];
        let result = `<div style="padding: 5px;">`;
        result += `<strong style="font-size: 14px;">å™ªå£°: ${noise} dBA</strong><br/>`;
        result += `<div style="margin-top: 8px; max-height: 300px; overflow-y: auto;">`;
        
        // æŒ‰æ¸©åº¦æ’åº
        const sortedParams = [...params].sort((a, b) => a.value[1] - b.value[1]);
        
        sortedParams.forEach((item, index) => {
            const temp = item.value[1];
            const speed = item.value[2];
            
            // æ’åæ ‡è®°
            let rankBadge = '';
            if (index === 0) {
                rankBadge = '<span style="color: #27ae60; font-weight: bold;">ğŸ¥‡</span> ';
            } else if (index === 1) {
                rankBadge = '<span style="color: #95a5a6; font-weight: bold;">ğŸ¥ˆ</span> ';
            } else if (index === 2) {
                rankBadge = '<span style="color: #cd7f32; font-weight: bold;">ğŸ¥‰</span> ';
            } else {
                rankBadge = `<span style="color: #999;">#${index + 1}</span> `;
            }
            
            result += `<div style="margin: 4px 0; padding: 4px; border-left: 3px solid ${item.color}; padding-left: 8px;">`;
            result += rankBadge;
            result += `${item.marker} <strong>${item.seriesName}</strong><br/>`;
            result += `<span style="margin-left: 20px;">æ¸©åº¦: <strong>${temp}â„ƒ</strong></span>`;
            
            if (speed !== undefined) {
                result += `<br/><span style="margin-left: 20px; color: #666;">è½¬é€Ÿ: ${speed} RPM</span>`;
            }
            result += `</div>`;
        });
        
        result += `</div></div>`;
        return result;
    },
    backgroundColor: 'rgba(255, 255, 255, 0.95)',
    borderColor: '#ccc',
    borderWidth: 1,
    textStyle: {
        color: '#333'
    }
}
```

**é¢„æœŸæ•ˆæœ**ï¼šTooltipæ˜¾ç¤ºæ›´ä¸°å¯Œçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ’åå’Œæ›´å¥½çš„è§†è§‰æ•ˆæœ

---

### 4. æ·»åŠ æ”¶è—åŠŸèƒ½ â­â­â­
**é—®é¢˜**ï¼šç”¨æˆ·æ— æ³•ä¿å­˜å¸¸ç”¨çš„é£æ‰‡é€‰æ‹©

**è§£å†³æ–¹æ¡ˆ**ï¼š

**HTMLä¿®æ”¹**ï¼š
```html
<!-- åœ¨ fan-selector ä¸­æ·»åŠ  -->
<div id="favorites-section" style="margin-bottom: 15px; padding: 10px; background: #f8f9fa; border-radius: 4px;">
    <h3 style="margin: 0 0 10px 0; font-size: 1em; color: #666;">â­ æ”¶è—çš„é£æ‰‡</h3>
    <div id="favorites-list" style="min-height: 30px; font-size: 0.9em; color: #999;">
        æš‚æ— æ”¶è—
    </div>
</div>
```

**CSSæ·»åŠ **ï¼š
```css
.favorite-btn {
    margin-left: 5px;
    cursor: pointer;
    color: #ccc;
    transition: color 0.3s;
}

.favorite-btn:hover {
    color: #f39c12;
}

.favorite-btn.active {
    color: #f39c12;
}

.favorite-item {
    display: inline-block;
    padding: 4px 8px;
    margin: 2px;
    background: white;
    border: 1px solid #ddd;
    border-radius: 3px;
    font-size: 0.85em;
    cursor: pointer;
    transition: all 0.3s;
}

.favorite-item:hover {
    background: #e8f4f8;
    border-color: #4a90e2;
}

.favorite-item .remove-fav {
    margin-left: 5px;
    color: #999;
}

.favorite-item .remove-fav:hover {
    color: #e74c3c;
}
```

**JavaScriptæ·»åŠ **ï¼š
```javascript
// æ”¶è—åŠŸèƒ½
let favorites = JSON.parse(localStorage.getItem('fanFavorites') || '[]');

function updateFavoritesList() {
    const favList = document.getElementById('favorites-list');
    if (favorites.length === 0) {
        favList.innerHTML = '<span style="color: #999;">æš‚æ— æ”¶è—</span>';
        return;
    }
    
    favList.innerHTML = favorites.map(fan => `
        <span class="favorite-item" data-fan="${fan}">
            ${fan}
            <span class="remove-fav" onclick="removeFavorite('${fan}')">âœ•</span>
        </span>
    `).join('');
    
    // ç‚¹å‡»æ”¶è—é¡¹å¿«é€Ÿé€‰æ‹©
    favList.querySelectorAll('.favorite-item').forEach(item => {
        item.addEventListener('click', function(e) {
            if (e.target.classList.contains('remove-fav')) return;
            const fanName = this.dataset.fan;
            const checkbox = Array.from(fanListDom.querySelectorAll('input[type="checkbox"]'))
                .find(cb => cb.value === fanName);
            if (checkbox) {
                checkbox.checked = true;
                updateChart();
            }
        });
    });
}

function toggleFavorite(fanName) {
    const index = favorites.indexOf(fanName);
    if (index > -1) {
        favorites.splice(index, 1);
    } else {
        favorites.push(fanName);
    }
    localStorage.setItem('fanFavorites', JSON.stringify(favorites));
    updateFavoritesList();
    updateFavoriteButtons();
}

function removeFavorite(fanName) {
    const index = favorites.indexOf(fanName);
    if (index > -1) {
        favorites.splice(index, 1);
        localStorage.setItem('fanFavorites', JSON.stringify(favorites));
        updateFavoritesList();
        updateFavoriteButtons();
    }
}

function updateFavoriteButtons() {
    fanListDom.querySelectorAll('label').forEach(label => {
        const checkbox = label.querySelector('input[type="checkbox"]');
        const fanName = checkbox.value;
        let favBtn = label.querySelector('.favorite-btn');
        
        if (!favBtn) {
            favBtn = document.createElement('span');
            favBtn.className = 'favorite-btn';
            favBtn.innerHTML = 'â˜†';
            favBtn.onclick = (e) => {
                e.preventDefault();
                toggleFavorite(fanName);
            };
            label.appendChild(favBtn);
        }
        
        if (favorites.includes(fanName)) {
            favBtn.innerHTML = 'â˜…';
            favBtn.classList.add('active');
        } else {
            favBtn.innerHTML = 'â˜†';
            favBtn.classList.remove('active');
        }
    });
}

// åœ¨ loadProjectData å‡½æ•°ä¸­è°ƒç”¨
function loadProjectData(project) {
    // ... ç°æœ‰ä»£ç  ...
    
    fetch(project.dataFile)
        .then(response => response.json())
        .then(data => {
            // ... ç°æœ‰ä»£ç  ...
            
            // æ·»åŠ æ”¶è—æŒ‰é’®
            updateFavoriteButtons();
            updateFavoritesList();
        });
}

// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
updateFavoritesList();
```

**é¢„æœŸæ•ˆæœ**ï¼šç”¨æˆ·å¯ä»¥æ”¶è—å¸¸ç”¨é£æ‰‡ï¼Œå¿«é€Ÿè®¿é—®

---

## äºŒã€ä¸­æœŸä¼˜åŒ–ï¼ˆ3-5å¤©å†…å®Œæˆï¼‰

### 5. å›¾è¡¨å¯¼å‡ºåŠŸèƒ½ â­â­â­â­
**å®æ–½æ­¥éª¤**ï¼š

1. åœ¨ HTML ä¸­æ·»åŠ å·¥å…·æ ï¼š
```html
<div id="chart-toolbar" style="position: absolute; top: 10px; right: 10px; z-index: 100;">
    <button class="toolbar-btn" id="export-png" title="å¯¼å‡ºä¸ºPNG">ğŸ“·</button>
    <button class="toolbar-btn" id="export-csv" title="å¯¼å‡ºæ•°æ®">ğŸ“Š</button>
    <button class="toolbar-btn" id="fullscreen-btn" title="å…¨å±">â›¶</button>
</div>
```

2. æ·»åŠ CSSï¼š
```css
.toolbar-btn {
    background: white;
    border: 1px solid #ddd;
    padding: 8px 12px;
    margin-left: 5px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.3s;
}

.toolbar-btn:hover {
    background: #f0f0f0;
    border-color: #4a90e2;
}
```

3. æ·»åŠ JavaScriptï¼š
```javascript
// å¯¼å‡ºPNG
document.getElementById('export-png').addEventListener('click', function() {
    const url = myChart.getDataURL({
        type: 'png',
        pixelRatio: 2,
        backgroundColor: '#fff'
    });
    
    const link = document.createElement('a');
    link.download = `${currentProject.name}_${Date.now()}.png`;
    link.href = url;
    link.click();
});

// å¯¼å‡ºCSV
document.getElementById('export-csv').addEventListener('click', function() {
    const selectedFans = [];
    document.querySelectorAll('#fan-list input[type="checkbox"]:checked').forEach(checkbox => {
        selectedFans.push(checkbox.value);
    });
    
    let csv = 'é£æ‰‡åç§°,å™ªå£°(dBA),æ¸©åº¦(â„ƒ),è½¬é€Ÿ(RPM)\n';
    
    selectedFans.forEach(fanName => {
        const data = allFanData[fanName];
        data.forEach(point => {
            csv += `${fanName},${point[0]},${point[1]},${point[2] || ''}\n`;
        });
    });
    
    const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
    const link = document.createElement('a');
    link.download = `${currentProject.name}_${Date.now()}.csv`;
    link.href = URL.createObjectURL(blob);
    link.click();
});

// å…¨å±åŠŸèƒ½
document.getElementById('fullscreen-btn').addEventListener('click', function() {
    const chartContainer = document.getElementById('chart-container');
    if (!document.fullscreenElement) {
        chartContainer.requestFullscreen();
    } else {
        document.exitFullscreen();
    }
});

// ç›‘å¬å…¨å±å˜åŒ–
document.addEventListener('fullscreenchange', function() {
    myChart.resize();
});
```

---

### 6. æ€§èƒ½æ’åè§†å›¾ â­â­â­â­
**å®æ–½æ­¥éª¤**ï¼š

1. æ·»åŠ è§†å›¾åˆ‡æ¢æŒ‰é’®ï¼š
```html
<div class="view-switcher" style="margin-bottom: 10px;">
    <button class="view-btn active" data-view="chart">ğŸ“ˆ æ›²çº¿å›¾</button>
    <button class="view-btn" data-view="ranking">ğŸ† æ’åæ¦œ</button>
</div>
```

2. æ·»åŠ æ’åå®¹å™¨ï¼š
```html
<div id="ranking-view" style="display: none;">
    <div class="ranking-controls">
        <label>é€‰æ‹©å™ªå£°æ°´å¹³ï¼š</label>
        <select id="noise-level-select"></select>
    </div>
    <div id="ranking-list"></div>
</div>
```

3. JavaScriptå®ç°ï¼š
```javascript
// è§†å›¾åˆ‡æ¢
document.querySelectorAll('.view-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        const view = this.dataset.view;
        document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        if (view === 'chart') {
            document.getElementById('chart').style.display = 'block';
            document.getElementById('ranking-view').style.display = 'none';
        } else {
            document.getElementById('chart').style.display = 'none';
            document.getElementById('ranking-view').style.display = 'block';
            updateRankingView();
        }
    });
});

// æ›´æ–°æ’åè§†å›¾
function updateRankingView() {
    const selectedFans = [];
    document.querySelectorAll('#fan-list input[type="checkbox"]:checked').forEach(checkbox => {
        selectedFans.push(checkbox.value);
    });
    
    // è·å–æ‰€æœ‰å™ªå£°æ°´å¹³
    const noiseLevels = new Set();
    selectedFans.forEach(fanName => {
        allFanData[fanName].forEach(point => {
            noiseLevels.add(point[0]);
        });
    });
    
    // å¡«å……å™ªå£°æ°´å¹³é€‰æ‹©å™¨
    const noiseLevelSelect = document.getElementById('noise-level-select');
    noiseLevelSelect.innerHTML = Array.from(noiseLevels)
        .sort((a, b) => a - b)
        .map(level => `<option value="${level}">${level} dBA</option>`)
        .join('');
    
    // æ˜¾ç¤ºæ’å
    updateRankingList();
}

function updateRankingList() {
    const noiseLevel = parseFloat(document.getElementById('noise-level-select').value);
    const selectedFans = [];
    document.querySelectorAll('#fan-list input[type="checkbox"]:checked').forEach(checkbox => {
        selectedFans.push(checkbox.value);
    });
    
    // è®¡ç®—æ¯ä¸ªé£æ‰‡åœ¨è¯¥å™ªå£°æ°´å¹³ä¸‹çš„æ¸©åº¦
    const rankings = selectedFans.map(fanName => {
        const data = allFanData[fanName];
        const point = data.find(p => p[0] === noiseLevel);
        return {
            name: fanName,
            temp: point ? point[1] : null,
            speed: point ? point[2] : null
        };
    }).filter(item => item.temp !== null)
      .sort((a, b) => a.temp - b.temp);
    
    // æ¸²æŸ“æ’ååˆ—è¡¨
    const rankingList = document.getElementById('ranking-list');
    rankingList.innerHTML = rankings.map((item, index) => {
        const medal = index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : `#${index + 1}`;
        return `
            <div class="ranking-item" style="padding: 10px; margin: 5px 0; background: ${index < 3 ? '#f8f9fa' : 'white'}; border-left: 4px solid ${colors[index]};">
                <span style="font-size: 20px; margin-right: 10px;">${medal}</span>
                <strong>${item.name}</strong>
                <span style="float: right;">
                    ${item.temp}â„ƒ
                    ${item.speed ? `(${item.speed} RPM)` : ''}
                </span>
            </div>
        `;
    }).join('');
}

// ç›‘å¬å™ªå£°æ°´å¹³å˜åŒ–
document.getElementById('noise-level-select').addEventListener('change', updateRankingList);
```

---

## ä¸‰ã€é•¿æœŸä¼˜åŒ–ï¼ˆ1-2å‘¨å†…å®Œæˆï¼‰

### 7. ç§»åŠ¨ç«¯æ‰‹åŠ¿ä¼˜åŒ–
### 8. ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
### 9. æ•°æ®å¯¹æ¯”æ¨¡å¼
### 10. æ€§èƒ½ä¼˜åŒ–

è¯¦ç»†å®æ–½æ–¹æ¡ˆè¯·å‚è€ƒã€Šä¼˜åŒ–å®æ–½è·¯çº¿å›¾.mdã€‹

---

## å››ã€å®æ–½æ£€æŸ¥æ¸…å•

### ç«‹å³ä¼˜åŒ–ï¼ˆç¬¬1å¤©ï¼‰
- [ ] ç§»åŠ¨ç«¯å›¾ä¾‹ä¼˜åŒ–
- [ ] æ·»åŠ æœç´¢åŠŸèƒ½
- [ ] å¢å¼ºTooltipæ˜¾ç¤º

### çŸ­æœŸä¼˜åŒ–ï¼ˆç¬¬2-3å¤©ï¼‰
- [ ] æ·»åŠ æ”¶è—åŠŸèƒ½
- [ ] å›¾è¡¨å¯¼å‡ºåŠŸèƒ½
- [ ] æ€§èƒ½æ’åè§†å›¾

### ä¸­æœŸä¼˜åŒ–ï¼ˆç¬¬4-7å¤©ï¼‰
- [ ] ç§»åŠ¨ç«¯æ‰‹åŠ¿ä¼˜åŒ–
- [ ] ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
- [ ] é«˜çº§ç­›é€‰åŠŸèƒ½

### é•¿æœŸä¼˜åŒ–ï¼ˆç¬¬2å‘¨ï¼‰
- [ ] æ•°æ®å¯¹æ¯”æ¨¡å¼
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ä»£ç é‡æ„

---

## äº”ã€æµ‹è¯•è¦ç‚¹

### åŠŸèƒ½æµ‹è¯•
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ”¶è—åŠŸèƒ½å¯ä»¥ä¿å­˜å’Œæ¢å¤
- [ ] å¯¼å‡ºåŠŸèƒ½ç”Ÿæˆæ­£ç¡®çš„æ–‡ä»¶
- [ ] æ’åè§†å›¾æ˜¾ç¤ºå‡†ç¡®

### å…¼å®¹æ€§æµ‹è¯•
- [ ] Chromeæµè§ˆå™¨æµ‹è¯•
- [ ] Safariæµè§ˆå™¨æµ‹è¯•
- [ ] Firefoxæµè§ˆå™¨æµ‹è¯•
- [ ] ç§»åŠ¨ç«¯æµè§ˆå™¨æµ‹è¯•

### æ€§èƒ½æµ‹è¯•
- [ ] å¤§æ•°æ®é‡æ¸²æŸ“æµç•…
- [ ] æœç´¢å“åº”åŠæ—¶
- [ ] æ— å†…å­˜æ³„æ¼

### ç”¨æˆ·ä½“éªŒæµ‹è¯•
- [ ] æ“ä½œç›´è§‚æ˜“æ‡‚
- [ ] å“åº”é€Ÿåº¦å¿«
- [ ] ç§»åŠ¨ç«¯ä½“éªŒè‰¯å¥½

---

## å…­ã€å¸¸è§é—®é¢˜è§£å†³

### Q1: ç§»åŠ¨ç«¯å›¾ä¾‹æ˜¾ç¤ºä¸å…¨
**A**: è°ƒæ•´å›¾è¡¨çš„ `grid.bottom` å€¼ï¼Œä¸ºå›¾ä¾‹ç•™å‡ºè¶³å¤Ÿç©ºé—´

### Q2: æœç´¢åŠŸèƒ½ä¸­æ–‡ä¸åŒ¹é…
**A**: ç¡®ä¿ä½¿ç”¨ `toLowerCase()` è¿›è¡Œå¤§å°å†™ä¸æ•æ„ŸåŒ¹é…

### Q3: å¯¼å‡ºçš„PNGå›¾ç‰‡æ¨¡ç³Š
**A**: è®¾ç½® `pixelRatio: 2` æé«˜åˆ†è¾¨ç‡

### Q4: æ”¶è—åŠŸèƒ½æ•°æ®ä¸¢å¤±
**A**: æ£€æŸ¥ localStorage æ˜¯å¦è¢«æ¸…é™¤ï¼Œæ·»åŠ é”™è¯¯å¤„ç†

### Q5: å…¨å±åå›¾è¡¨å¤§å°ä¸å¯¹
**A**: ç›‘å¬ `fullscreenchange` äº‹ä»¶ï¼Œè°ƒç”¨ `myChart.resize()`

---

## ä¸ƒã€æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. å‡å°‘é‡ç»˜
```javascript
// ä½¿ç”¨é˜²æŠ–ä¼˜åŒ–æœç´¢
const debouncedSearch = debounce(function(searchTerm) {
    // æœç´¢é€»è¾‘
}, 300);

fanSearchInput.addEventListener('input', function(e) {
    debouncedSearch(e.target.value);
});
```

### 2. æ‡’åŠ è½½
```javascript
// åªåœ¨éœ€è¦æ—¶åŠ è½½æ’åè§†å›¾
let rankingViewLoaded = false;
function loadRankingView() {
    if (!rankingViewLoaded) {
        // åˆå§‹åŒ–æ’åè§†å›¾
        rankingViewLoaded = true;
    }
}
```

### 3. ç¼“å­˜è®¡ç®—ç»“æœ
```javascript
const rankingCache = new Map();

function getRanking(noiseLevel) {
    if (rankingCache.has(noiseLevel)) {
        return rankingCache.get(noiseLevel);
    }
    
    const ranking = calculateRanking(noiseLevel);
    rankingCache.set(noiseLevel, ranking);
    return ranking;
}
```

---

## å…«ã€ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³å¼€å§‹**ï¼šå®æ–½ç§»åŠ¨ç«¯å›¾ä¾‹ä¼˜åŒ–å’Œæœç´¢åŠŸèƒ½
2. **æœ¬å‘¨å®Œæˆ**ï¼šæ·»åŠ æ”¶è—åŠŸèƒ½å’Œå¯¼å‡ºåŠŸèƒ½
3. **ä¸‹å‘¨è®¡åˆ’**ï¼šå®æ–½æ€§èƒ½æ’åè§†å›¾å’Œç§»åŠ¨ç«¯ä¼˜åŒ–
4. **æŒç»­æ”¹è¿›**ï¼šæ”¶é›†ç”¨æˆ·åé¦ˆï¼Œè¿­ä»£ä¼˜åŒ–

---

## ä¹ã€èµ„æºé“¾æ¥

- [EChartså®˜æ–¹æ–‡æ¡£](https://echarts.apache.org/zh/index.html)
- [MDN Web Docs](https://developer.mozilla.org/)
- [Can I Use](https://caniuse.com/) - æµè§ˆå™¨å…¼å®¹æ€§æŸ¥è¯¢
- [Lighthouse](https://developers.google.com/web/tools/lighthouse) - æ€§èƒ½æµ‹è¯•å·¥å…·

---

**æç¤º**ï¼šå»ºè®®æŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºå®æ–½ï¼Œæ¯å®Œæˆä¸€é¡¹å°±è¿›è¡Œæµ‹è¯•ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸åå†ç»§ç»­ä¸‹ä¸€é¡¹ã€‚
